<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
  <a class="navbar-brand" routerLink="/">BIM App</a>

  <div class="collapse navbar-collapse" id="navbarsExampleDefault">
    <ul class="navbar-nav mr-auto" *ngIf="authService.currentUser$ | async">
  <ng-container *ngIf="authService.currentUser$ | async">
    <li class="nav-item">
      <a class="nav-link" routerLink="/Modelviewer" routerLinkActive='active' >Model Viewer</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" routerLink="/Members" routerLinkActive='active' >Members</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" routerLink="/Lists" routerLinkActive='active' >Lists</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" routerLink="/Messages" routerLinkActive='active' >Messages</a>
    </li>
  </ng-container>
  <li class="nav-item">
    <a class="nav-link" routerLink="/errors" routerLinkActive='active' >Errors</a>
  </li>

    </ul>

<div *ngIf="(authService.currentUser$ | async) as user" class="dropdown" dropdown>
  <a class="btn btn-secondary dropdown-toggle text-light" role="button" id="dropdownMenuLink" dropdownToggle>
    Welcome {{user.username | titlecase}}
  </a>
  <div class="dropdown-menu mt-3" *dropdownMenu>
    <a class="dropdown-item" href="#" class="fa fa-user">Edit Profile</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="#" class="fa fa-sign-out" (click)="logout()">Logout</a>
  </div>
</div>

    <form *ngIf="(authService.currentUser$ | async) === null" #loginForm="ngForm" class="form-inline my-2 my-lg-0" (ngSubmit)="login()" autocomplete="on">
      <input class="form-control mr-sm-2"
      type="text"
      name="username"
      #username="ngModel"
      placeholder="Username"
      required [(ngModel)]="model.username">
      <input class="form-control mr-sm-2"
      type="password" name="password"
      #password="ngModel"
      placeholder="Password"
      required  [(ngModel)]="model.password">
      <button [disabled]="!loginForm.valid" class="btn btn-success my-2 my-sm-0" type="submit" required>Login</button>
    </form>
  </div>
</nav>
